CREATE DB:

mysql -u root -p

CREATE DATABASE `_b7b8640a2d1b8b5c`;
CREATE USER '_b7b8640a2d1b8b5c'@'localhost' IDENTIFIED BY '0W9ixoW0V8YkDPDe';
GRANT ALL PRIVILEGES ON `_b7b8640a2d1b8b5c`.* TO '_b7b8640a2d1b8b5c'@'localhost';
FLUSH PRIVILEGES;
EXIT;

RESTORE DB:
mysql -u _b7b8640a2d1b8b5c -p0W9ixoW0V8YkDPDe _b7b8640a2d1b8b5c < sql.sql


UPDATE site_config.json
{
 "db_name": "_b7b8640a2d1b8b5c",
 "db_password": "0W9ixoW0V8YkDPDe",
 "db_type": "mariadb",
 "db_user": "_b7b8640a2d1b8b5c",
 "developer_mode": 1GRANT ALL 
}

IN BENCH DIR:
bench --site smartb-erpnext.dev clear-cache
bench --site smartb-erpnext.dev migrate --skip-failing --skip-search-index

CHECK CONSOLE:
bench --site smartb-erpnext.dev console
frappe.get_all('Patch Log', filters={'skipped': 1}, fields=['patch'])

IF ERROR:
frappe.db.sql("""
    ALTER TABLE `tabAccounting Dimension Filter` 
    ADD COLUMN `fieldname` varchar(140) DEFAULT NULL
""")

from frappe.modules.patch_handler import run_single
run_single('erpnext.patches.v15_0.update_fieldname_in_accounting_dimension_filter')
frappe.db.commit()
exit()
bench --site smartb-erpnext.dev clear-cache

bench --site smartb-erpnext.dev build-search-index
bench --site smartb-erpnext.dev migrate
bench --site smartb-erpnext.dev clear-cache
bench --site smartb-erpnext.dev clear-website-cache
bench restart
bench --site smartb-erpnext.dev doctor

ssh-keygen -t id_ed25519-C "local@mrmy.my"
vim id_ed25519.pub

cd ~/.ssh
vim config
Host digitalocean
        User root
        HostName 159.223.43.125
        IdentityFile ~/.ssh/id_ed25519
        Port 22

tar czf erpnext_local.tar.gz erpnext

scp digitalocean:/home/erpnext-user/bench/sites/smartb-erpnext.dev/private/backups/20251024_050037-smartb-erpnext_dev-* /home/erpnext/bench/sites/smartb-erpnext.dev/private/backups/
scp -r digitalocean:/home/erpnext-user/bench/apps/erpnext/erpnext/buying/doctype/purchase_order ~/erpnext/ERPNext/apps/erpnext/erpnext/buying/doctype/
scp -r digitalocean:/home/erpnext-user/bench/apps/erpnext/erpnext/buying/doctype/supplier ~/erpnext/ERPNext/apps/erpnext/erpnext/buying/doctype/
scp -r digitalocean:/home/erpnext-user/bench/apps/erpnext/erpnext/buying/doctype/customer_number_at_supplier ~/erpnext/ERPNext/apps/erpnext/erpnext/buying/doctype/


bench --site smartb-erpnext.dev reload-doc erpnext.buying doctype customer_number_at_supplier
tar czf erpnext_local.tar.gz erpnext

bench --site smartb-erpnext.dev migrate
bench --site smartb-erpnext.dev clear-cache
bench --site smartb-erpnext.dev clear-website-cache
bench restart

bench set-config -g server_script_enabled 1


